<!DOCTYPE html>




<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Kambi Widgets Source: node_modules/kambi-widget-components/src/DropdownButton/DropdownButton.jsx</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">

</head>

<body>

<style>
    img {
    	max-width: 100%;
    }
</style>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Kambi Widgets</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="widget-components.html">widget-components</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-coreLibrary.html">coreLibrary</a></li><li><a href="module-eventsModule.html">eventsModule</a></li><li><a href="module-offeringModule.html">offeringModule</a></li><li><a href="module-statisticsModule.html">statisticsModule</a></li><li><a href="module-translationModule.html">translationModule</a></li><li><a href="module-utilModule.html">utilModule</a></li><li><a href="module-widgetModule.html">widgetModule</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="widget-components.DropdownButton.html">widget-components.DropdownButton</a></li><li><a href="widget-components.FixedList.html">widget-components.FixedList</a></li><li><a href="widget-components.Header.html">widget-components.Header</a></li><li><a href="widget-components.OutcomeButton.html">widget-components.OutcomeButton</a></li><li><a href="widget-components.OutcomeButtonUI.html">widget-components.OutcomeButtonUI</a></li><li><a href="widget-components.ScrolledList.html">widget-components.ScrolledList</a></li><li><a href="widget-components.TabPagination.html">widget-components.TabPagination</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-1 - Introduction.html">1 - Introduction</a></li><li><a href="tutorial-2 - Development.html">2 - Development</a></li><li><a href="tutorial-3 - Production Builds and Deployment.html">3 - Production Builds and Deployment</a></li><li><a href="tutorial-4 - Fetching Data.html">4 - Fetching Data</a></li><li><a href="tutorial-5 - Sportsbook Interaction.html">5 - Sportsbook Interaction</a></li><li><a href="tutorial-6 - Internationalization.html">6 - Internationalization</a></li><li><a href="tutorial-7 - Styling.html">7 - Styling</a></li><li><a href="tutorial-8 - Using React and widget-components.html">8 - Using React and widget-components</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#FixedList_RenderItemContainerArgs">FixedList_RenderItemContainerArgs</a></li><li><a href="global.html#ScrolledList_ALIGN_ITEMS">ScrolledList_ALIGN_ITEMS</a></li><li><a href="global.html#ScrolledList_RenderButtonArgs">ScrolledList_RenderButtonArgs</a></li><li><a href="global.html#ScrolledList_RenderItemContainerArgs">ScrolledList_RenderItemContainerArgs</a></li><li><a href="global.html#ScrolledList_SCROLL_TO_ITEM_MODE">ScrolledList_SCROLL_TO_ITEM_MODE</a></li><li><a href="global.html#TabPagination_RenderTabListArgs">TabPagination_RenderTabListArgs</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			

		<h1 class="page-title">Source: node_modules/kambi-widget-components/src/DropdownButton/DropdownButton.jsx</h1>
    
<section>
    <article>
        <pre
            class="sunlight-highlight-javascript linenums">import React, { PropTypes, Component } from 'react';
import ReactDOM from 'react-dom';
import styles from './DropdownButton.scss';

/**
 * Component for creating a button that when clicked shows a menu based in the provided options.
 * @memberof widget-components
 */
class DropdownButton extends Component {

   constructor(props) {
      super(props);

      this.state = {
         selected: this.props.selected,
         dropDown: false
      };

      this.buttonElement = null;

      this.onBackgroundClick = this.onBackgroundClick.bind(this);
      this.onButtonClick = this.onButtonClick.bind(this);
   }

   /*
    * called on background click when drop down window is open
    * @param {SyntheticEvent} event Click event
    */
   onBackgroundClick(ev) {
      // setState prevents event from being processed by onOptionClick handler
      // so it is moved to the next cycle
      this.setState({ dropDown: false });
      window.document.documentElement.removeEventListener('click', this.onBackgroundClick, true);
      let btnIndex = ev.target.getAttribute('data-kw-dropdown-button-index');
      if (btnIndex == null) {
         return;
      }
      btnIndex = parseInt(btnIndex, 10);
      if (this.state.selected === btnIndex) {
         return;
      }
      this.setState({ selected: btnIndex });
      this.props.onChange(btnIndex);
   }

   /*
    * Shows drop down box with available options.
    * @param {SyntheticEvent} event Click event
    */
   onButtonClick(event) {
      event.stopPropagation();
      this.setState({
         dropDown: true,
      });
      window.document.documentElement.addEventListener('click', this.onBackgroundClick, true); // add event to the capture phase instead of bubble phase
   }

   /*
    * Renders button
    * @returns {XML}
    */
   render() {
      // calculating position of dropdown while in mobile mode
      let dropdownMobileStyling = {};
      if (this.state.dropDown &amp;&amp; this.buttonElement) {
         const { top, bottom } = this.buttonElement.getBoundingClientRect();
         dropdownMobileStyling = {
            top: top,
            bottom: 'auto'
         };
         if (this.props.verticalAlignment === 'bottom') {
            dropdownMobileStyling = {
               top: 'auto',
               bottom: Math.max(document.documentElement.clientHeight, window.innerHeight || 0) - bottom
            };
         }
      }

      let cssHAlignClass = styles.leftAlign;
      if (this.props.horizontalAlignment === 'right') {
         cssHAlignClass = styles.rightAlign;
      }

      let cssVAlignClass = styles.topAlign;
      if (this.props.verticalAlignment === 'bottom') {
         cssVAlignClass = styles.bottomAlign;
      }

      return (
         &lt;div className={styles.general}>
            &lt;button
               ref={(node) => { this.buttonElement = node }}
               className={'KambiWidget-card-support-text-color ' + styles.button} onClick={this.onButtonClick}
            >
               {this.props.options[this.state.selected]}
               &lt;i />
            &lt;/button>
            {
               this.state.dropDown &amp;&amp;
                  &lt;ul
                     style={dropdownMobileStyling}
                     className={`${styles.dropDown}  ${cssHAlignClass} ${cssVAlignClass}`}
                  >
                     {this.props.options.map((option, i) => {
                        const classNames = [
                           'KambiWidget-card-background-color',
                           'KambiWidget-card-background-color--hoverable',
                           'KambiWidget-card-background-color--clickable'
                        ];

                        if (this.state.selected === i) {
                           classNames.push('KambiWidget-primary-color');
                        } else {
                           classNames.push('KambiWidget-card-text-color');
                        }

                        return (
                           &lt;li
                              key={option}
                              data-kw-dropdown-button-index={i}
                              className={classNames.join(' ')}
                           >
                              {option}
                           &lt;/li>
                        );
                     })}
                  &lt;/ul>
            }
         &lt;/div>
      );
   }
}


/**
 * @property options {Array.&lt;string>} Required. Options to show when the user clicks the button, translations are not applied

 * @property onChange {Function(index)} Required. Function to be invoked when the user clicks an option, receives the index of the option as an argument. If the user clicks the currently selected option this function is not invoked

 * @property [selected=0] {number} Defines which option should be checked upon component creation

 * @property [horizontalAlignment='right'] {'left'|'right'} Horizontal alignment of the dropdown box. If 'left' will match the left corner of the dropdown with the left corner of the button, if 'right' will match the right corner for the dropdown to the right corner of the button. If widget width is smaller than 925 the dropdown will ignore this option and will cover the full width of the widget

 * @property [verticalAlignment='top'] {'top'|'bottom'} Vertical alignment of the dropdown box. If 'top' will match the top corner of the dropdown with the top corner of the button, if 'bottom' will match the bottom corner for the dropdown to the bottom corner of the button
 */
DropdownButton.propTypes = {
   options: PropTypes.arrayOf(PropTypes.string).isRequired,
   selected: PropTypes.number,
   onChange: PropTypes.func.isRequired,
   horizontalAlignment: PropTypes.oneOf(['left', 'right']),
   verticalAlignment: PropTypes.oneOf(['top', 'bottom'])
};

DropdownButton.defaultProps = {
   selected: 0,
   horizontalAlignment: 'right',
   verticalAlignment: 'top'
};

export default DropdownButton;
</pre>
    </article>
</section>





		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>
